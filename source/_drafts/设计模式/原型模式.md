---
title: 原型模式：创建对象的灵活性与效率的完美结合
---

原型模式是一种创建型设计模式，其核心思想是通过复制现有对象来创建新的对象，而无需显式地使用构造函数。原型模式基于原型实例来生成对象的副本，从而避免了直接创建对象所带来的性能开销和复杂的初始化过程。


### 示例场景(Vue3代理处理器)
```javascript
// 使用原型模式实现依赖收集
class BaseReactiveHandler {
    get(target, key, receiver) {
        // 预置属性过滤

        // 数组类型, 变异方法过滤

        // symbol类型, 自有属性过滤

        // 依赖收集

        // 返回值处理
    }
}
class MutableReactiveHandler extends BaseReactiveHandler {
    set(target, key, value, receiver) {
        // 对深层响应对象的旧值和新值处理

        // 判断target类型并判断key是否为已有属性

        // 触发更新
    }
    deleteProperty(target, key) {
        // 判断是否为已有属性

        // 若为已有属性, 触发更新
    }
    has(target, key) {
        // 判断key是否为symbol类型或非Symbol自有属性

        // 若key为symbol类型或非Symbol自有属性, 则触发更新
    }

    ownKeys(target) {
        // 触发更新
    }
}

class ReaonlyReactiveHandler extends BaseReactiveHandler {
    set(target, key) {
        // 报警
    }

    deleteProperty(target, key) {
        // 报警
    }
}

```